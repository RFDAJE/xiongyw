- iso: debian-live-7.4-amd64-standard.iso
- update /etc/apt/sources.list: use local mirrors for all, remove cdrom source
- initial conf: http://www.server-world.info/en/note?os=Debian_7.0&p=initial_conf&f=1
- x: apt-get install xorg gnome xfonts-wqy ttf-wqy-zenhei
- locale: dpkg-reconfigure locales
- zfs: http://zfsonlinux.org/debian.html
    $ su -
    # wget http://archive.zfsonlinux.org/debian/pool/main/z/zfsonlinux/zfsonlinux_2%7Ewheezy_all.deb
    # dpkg -i zfsonlinux_2~wheezy_all.deb
    # apt-get update
    # apt-get install debian-zfs

    home pc: 
    # sudo zpool create -f -o ashift=12 tank ata-WDC_WD5000AADS-00L4B1_WD-WCAUH0002092
    # zfs set atime=off tank
    # zpool attach -f tank ata-WDC_WD5000AADS-00L4B1_WD-WCAUH0002092 ata-WDC_WD5000AVDS-63U7B1_WD-WCAV9EM28882

bruin@localhost:/dev/disk/by-id$ sudo zpool status
  pool: tank
 state: ONLINE
status: One or more devices is currently being resilvered.  The pool will
	continue to function, possibly in a degraded state.
action: Wait for the resilver to complete.
  scan: resilver in progress since Wed Apr  9 19:28:45 2014
    476M scanned out of 157G at 59.4M/s, 0h44m to go
    472M resilvered, 0.30% done
config:

	NAME                                           STATE     READ WRITE CKSUM
	tank                                           ONLINE       0     0     0
	  mirror-0                                     ONLINE       0     0     0
	    ata-WDC_WD5000AADS-00L4B1_WD-WCAUH0002092  ONLINE       0     0     0
	    ata-WDC_WD5000AVDS-63U7B1_WD-WCAV9EM28882  ONLINE       0     0     0  (resilvering)

errors: No known data errors
bruin@localhost:/dev/disk/by-id$ sudo zpool history
History for 'tank':
2014-04-07.18:38:10 zpool create -f -o ashift=12 tank ata-WDC_WD5000AADS-00L4B1_WD-WCAUH0002092
2014-04-07.18:39:15 zfs set atime=off tank
2014-04-09.19:28:55 zpool attach -f tank ata-WDC_WD5000AADS-00L4B1_WD-WCAUH0002092 ata-WDC_WD5000AVDS-63U7B1_WD-WCAV9EM28882


   work pc:
    bruin@d7:~$ sudo zpool history
    History for 'tank':
    2014-04-08.20:59:49 zpool create -f -o ashift=12 tank ata-ST1000DM003-1CH162_S1DCDRHH
    2014-04-08.21:00:13 zfs set atime=off tank

    update "/etc/default/zfs" for auto mount at startup

- kvm: http://www.server-world.info/en/note?os=Debian_7.0&p=kvm&f=1
    # apt-get install virt-manager
    note: "su -" to run virt-manager, not "su"
- chrome: http://www.itworld.com/software/358509/install-google-chrome-browser-debian-7
    wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
    sudo dpkg -i google-chrome-*.deb
    sudo apt-get install -f

    fonts: http://blog.csdn.net/neosmith/article/details/17366595

- 32 bit apps: http://www.debian-administration.org/articles/531
    $ sudo apt-get install ia32-libs
    
    http://stackoverflow.com/questions/20032019/to-install-ia32-libs-on-debian-wheezy-amd64
- p4: http://package.perforce.com/

    $ wget http://package.perforce.com/perforce.pubkey
    $ sudo apt-key add perforce.pubkey

    $ cat /etc/apt/sources.list.d/p4.list 
    deb http://package.perforce.com/apt/ubuntu precise release

    $ sudo apt-get update
    $ apt-cache search perforce
    $ sudo apt-get install perforce-cli-base
    $ /opt/perforce/usr/bin/p4 -h

- sublime text3: http://simonewebdesign.it/blog/how-to-install-sublime-text-3-on-debian/
    $ wget http://c758482.r82.cf2.rackcdn.com/sublime-text_build-3047_amd64.deb
    $ sudo dpkg -i sublime-text_build-3047_amd64.deb

- apt-get remove vim-tiny
- vim: www.server-world.info/en/

- node.js and npm

git clone git://github.com/joyent/node.git
cd node
./configure
make
sudo make install

git clone https://github.com/isaacs/npm.git
cd npm
make install

sudo npm install -g uglify-js

- bash: 
  rm /bin/sh
  ls -s /bin/bash /bin/sh

- build otv5:
    sudo mkdir /nfs
    mount 10.12.2.225:/nfs /nfs
gettext->msgfmt


$ cat ~/.fonts.conf
<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>
<fontconfig>
 <match target="font">
  <edit mode="assign" name="rgba">
   <const>rgb</const>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="hinting">
   <bool>true</bool>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="hintstyle">
   <const>hintmedium</const>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="antialias">
   <bool>true</bool>
  </edit>
 </match>
<!--
***** 
***** The following section was missing.
***** Adding it fixed web page fonts in Chrome.
*****
-->
 <match target="font">
  <edit name="autohint" mode="assign">
   <bool>true</bool>
  </edit>
 </match>
</fontconfig>

- fcitx
    apt-get install fcitx fcitx-pinyin im-switch
- omv

- emacs 24.4:
wget ...emacs-24.3.tar.gz
apt-get install libxaw7-dev libxpm-dev libpng12-dev libtiff5-dev libgif-dev libjpeg8-dev libgtk2.0-dev libncurses5-dev
./configure
make
cd src
 ./bootstrap-emacs
make install

- smbclient
apt-get install cifs-utils

bruin@d7:/tank$ cat ~/bin/smbmount.sh 
#!/bin/bash
sudo mount -t cifs -o user=bruin -o pass=qwerty //192.168.100.5/tele /tele
sudo mount -t cifs -o user=bruin -o pass=qwerty //192.168.100.5/tank /tank






Debian 8.2:

- docker: https://docs.docker.com/linux/step_one/
  wget -qO- https://get.docker.com/ | sh
  sudo usermod -aG docker bruin
  docker run hello-world

- OCRmyPDF: https://github.com/jbarlow83/OCRmyPDF
  docker pull jbarlow83/ocrmypdf
  docker tag jbarlow83/ocrmypdf ocrmypdf
  docker run ocrmypdf --help
  docker run -v "$(pwd):/home/docker" ocrmypdf input.pdf output.pdf -l chi_sim
  
- apt-get install scantailor pdftk texlive asymptote libtiff-tools

- samba server config
  /etc/samba/smb.conf:
  [homes]
        comment = Home Directories
        valid users = bruin
        read only = No
        create mask = 0700
        directory mask = 0700

  testparm
  smbpasswd -a bruin
  /etc/init.d/smbd reload

+ Searchable pdf: http://fransdejonge.com/2014/10/fixing-up-scanned-pdfs-with-scan-tailor/

- tesseract-ocr
  apt-get install tesseract-ocr
  apt-get install tesseract-ocr-chi-sim

  tesseract -l chi_sim input.tif out hocr

- hocr2pdf
  apt-get install exactimage

- pdfsandwich: http://www.tobias-elze.de/pdfsandwich/
  sudo dpkg -i pdfsandwich_0.1.0_amd64.deb  # There will be an error message. Ignore it and proceed!
  sudo apt-get -fy install

  
   pdfsandwich -lang chi_sim -resolution 600 input.pdf -o output600dpi.pdf

- parallel
 sudo apt-get install parallel
 parallel pdfsandwich -lang chi_sim -resolution 600 -o {.}-600dpi.pdf {} ::: *.pdf
