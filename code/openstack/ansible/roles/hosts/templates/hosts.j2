# this file is generated by Ansible

127.0.0.1 localhost.localdomain localhost


# http://serverfault.com/questions/760399/how-do-i-set-configure-the-hosts-file-for-hosts-in-ansible-inventory
# 

{# this loops over the list of groups.  inside the loop #}
{# "group" will be the group name and "hosts" will be the #}
{# list of hosts in that group. #}
{% for group,hosts in groups.items() %}

{# skip the "all" and "ungrouped" groups, which presumably #}
{# you don't want in your hosts file #}
{% if group not in ["ungrouped", "all"] %}

{# generate a hosts entry for each host, using the "loop.index" #}
{# variable and the group name to generate a unique hostname. #}
{% for host in hosts %}
{{host}} {{group}}{{loop.index}}
{% if group == "ctl" and ctl_m %}
{{ctl_m}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ MGMT_SUFFIX }}
{% endif %}
{% if group == "ctl" and ctl_i %}
{{ctl_i}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ IPMI_SUFFIX }}
{% endif %}
{% if group == "ptl" and ptl_m %}
{{ptl_m}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ MGMT_SUFFIX }}
{% endif %}
{% if group == "ptl" and ptl_i %}
{{ptl_i}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ IPMI_SUFFIX }}
{% endif %}
{% if group == "gw" and gw_m %}
{{gw_m}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ MGMT_SUFFIX }}
{% endif %}
{% if group == "gw" and gw_i %}
{{gw_i}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ IPMI_SUFFIX }}
{% endif %}
{% if group == "hot" and hot_m %}
{{hot_m}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ MGMT_SUFFIX }}
{% endif %}
{% if group == "hot" and hot_s %}
{{hot_s}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ STOR_SUFFIX }}
{% endif %}
{% if group == "hot" and hot_i %}
{{hot_i}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ IPMI_SUFFIX }}
{% endif %}
{% if group == "warm" and warm_m %}
{{warm_m}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ MGMT_SUFFIX }}
{% endif %}
{% if group == "warm" and warm_s %}
{{warm_s}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ STOR_SUFFIX }}
{% endif %}
{% if group == "warm" and warm_i %}
{{warm_i}}{{host.split('.')[3]}} {{group}}{{loop.index}}{{ IPMI_SUFFIX }}
{% endif %}
{% endfor %}

{% endif %}
{% endfor %}

{{ctl_v}}
{{ctl_vm}}
{{ptl_v}}
{{ptl_vm}}
{{gw_v}}
{{gw_vm}}
{{hot_v}}
{{hot_vm}}
{{warm_v}}
{{warm_vm}}

